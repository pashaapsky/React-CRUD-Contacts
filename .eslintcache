[{"C:\\OpenServer\\domains\\work1\\src\\index.js":"1","C:\\OpenServer\\domains\\work1\\src\\App.js":"2","C:\\OpenServer\\domains\\work1\\src\\reportWebVitals.js":"3","C:\\OpenServer\\domains\\work1\\src\\axios.js":"4","C:\\OpenServer\\domains\\work1\\src\\components\\authForm.js":"5","C:\\OpenServer\\domains\\work1\\src\\pages\\home.js":"6","C:\\OpenServer\\domains\\work1\\src\\context\\AuthContext.js":"7","C:\\OpenServer\\domains\\work1\\src\\hooks\\auth.hook.js":"8","C:\\OpenServer\\domains\\work1\\src\\pages\\profile.js":"9","C:\\OpenServer\\domains\\work1\\src\\hooks\\routes.hook.js":"10","C:\\OpenServer\\domains\\work1\\src\\components\\contact.js":"11","C:\\OpenServer\\domains\\work1\\src\\components\\contactForm.js":"12"},{"size":289,"mtime":1608815087254,"results":"13","hashOfConfig":"14"},{"size":827,"mtime":1608813244005,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"14"},{"size":134,"mtime":1608792699767,"results":"17","hashOfConfig":"14"},{"size":2316,"mtime":1608808399748,"results":"18","hashOfConfig":"14"},{"size":1796,"mtime":1608819189476,"results":"19","hashOfConfig":"14"},{"size":83,"mtime":1608801598820,"results":"20","hashOfConfig":"14"},{"size":1774,"mtime":1608810537378,"results":"21","hashOfConfig":"14"},{"size":4437,"mtime":1608820727124,"results":"22","hashOfConfig":"14"},{"size":823,"mtime":1608813813258,"results":"23","hashOfConfig":"14"},{"size":1356,"mtime":1608819995601,"results":"24","hashOfConfig":"14"},{"size":2145,"mtime":1608820406412,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"bt7kd3",{"filePath":"28","messages":"29","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"32"},"C:\\OpenServer\\domains\\work1\\src\\index.js",[],"C:\\OpenServer\\domains\\work1\\src\\App.js",["53","54","55","56","57"],"C:\\OpenServer\\domains\\work1\\src\\reportWebVitals.js",[],["58","59"],"C:\\OpenServer\\domains\\work1\\src\\axios.js",[],"C:\\OpenServer\\domains\\work1\\src\\components\\authForm.js",[],"C:\\OpenServer\\domains\\work1\\src\\pages\\home.js",["60","61","62"],"C:\\OpenServer\\domains\\work1\\src\\context\\AuthContext.js",[],"C:\\OpenServer\\domains\\work1\\src\\hooks\\auth.hook.js",["63","64"],"import React, {useCallback, useEffect, useState} from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport axios from \"../axios\";\r\n\r\nfunction useAuth(props) {\r\n    const [user, setUser] = useState(null);\r\n    const [token, setToken] = useState(null);\r\n\r\n    const login = useCallback(async (values) => {\r\n        try {\r\n            const res = await axios.post('/login', {\"email\": values.email, \"password\": values.password});\r\n\r\n            if (res) {\r\n                localStorage.setItem('authData', JSON.stringify({\"user\": values.email, \"token\": res.data.accessToken}));\r\n\r\n                setUser({\"user\": values.email});\r\n                setToken(res.data.accessToken);\r\n\r\n                console.log(res);\r\n\r\n                // history.push('/profile');\r\n            }\r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n    }, []);\r\n\r\n    const register = useCallback(async (values) => {\r\n        try {\r\n            const res = await axios.post('/register', {\"email\": values.email, \"password\": values.password});\r\n\r\n            if (res) {\r\n                localStorage.setItem('authData', JSON.stringify({\"user\": values.email, \"token\": res.data.accessToken}));\r\n\r\n                setUser({\"user\": values.email});\r\n                setToken(res.data.accessToken);\r\n\r\n                console.log(res);\r\n                // history.push('/profile');\r\n            }\r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n    }, []);\r\n\r\n    const logout = useCallback(() => {\r\n        localStorage.removeItem('authData');\r\n        setUser(null);\r\n        setToken(null);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const data = JSON.parse(localStorage.getItem('authData'));\r\n\r\n        if (data) {\r\n            setUser(data.user);\r\n            setToken(data.token);\r\n        }\r\n    }, []);\r\n\r\n    // async function login(values) {\r\n    //     try {\r\n    //         const res = await axios.post('/login', {\"email\": values.email, \"password\": values.password});\r\n    //\r\n    //         if (res) {\r\n    //             localStorage.setItem('authData', JSON.stringify({\"user\": values.email, \"token\": res.data}));\r\n    //\r\n    //             setUser({\"user\": values.email});\r\n    //             setToken(res.data.accessToken);\r\n    //\r\n    //             history.push('/profile');\r\n    //         }\r\n    //     } catch (e) {\r\n    //         console.log(e.message)\r\n    //     }\r\n    // }\r\n\r\n    // async function register(values) {\r\n    //     try {\r\n    //         const res = await axios.post('/register', {\"email\": values.email, \"password\": values.password});\r\n    //\r\n    //         if (res) {\r\n    //             localStorage.setItem('authData', JSON.stringify({\"user\": values.email, \"token\": res.data}));\r\n    //\r\n    //             setUser({\"user\": values.email});\r\n    //             setToken(res.data.accessToken);\r\n    //\r\n    //             history.push('/profile');\r\n    //         }\r\n    //     } catch (e) {\r\n    //         console.log(e.message)\r\n    //     }\r\n    // }\r\n\r\n\r\n    return {user, token, setToken, setUser, login, register, logout}\r\n}\r\n\r\nexport default useAuth;","C:\\OpenServer\\domains\\work1\\src\\pages\\profile.js",["65"],"C:\\OpenServer\\domains\\work1\\src\\hooks\\routes.hook.js",[],"C:\\OpenServer\\domains\\work1\\src\\components\\contact.js",[],"C:\\OpenServer\\domains\\work1\\src\\components\\contactForm.js",["66"],"import React from 'react';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nfunction ContactForm({className, buttonTitle, handleSubmit, values, id}) {\r\n    const history = useHistory();\r\n\r\n    const validationSchema = yup.object({\r\n        name: yup\r\n            .string('Введите имя контакта')\r\n            .required('Поле Имя обязательно'),\r\n        phone: yup\r\n            .string('Введите номер контакта')\r\n            .required('Поле Номер обязательно'),\r\n    });\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            name: values?.name || '',\r\n            phone: values?.phone || ''\r\n        },\r\n\r\n        validationSchema: validationSchema,\r\n\r\n        onSubmit: (values) => {\r\n            console.log('work');\r\n            console.log(values, id);\r\n            handleSubmit(values, id);\r\n        }\r\n    });\r\n\r\n    return (\r\n        <form className={className} onSubmit={formik.handleSubmit}>\r\n            <TextField\r\n                id=\"name\"\r\n                name=\"name\"\r\n                label=\"Имя контакта\"\r\n                value={formik.values.name}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.name && Boolean(formik.errors.name)}\r\n                helperText={formik.touched.name && formik.errors.name}\r\n            />\r\n\r\n            <TextField\r\n                id=\"phone\"\r\n                name=\"phone\"\r\n                label=\"Телефон\"\r\n                value={formik.values.phone}\r\n                onChange={formik.handleChange}\r\n                error={formik.touched.phone && Boolean(formik.errors.phone)}\r\n                helperText={formik.touched.phone && formik.errors.phone}\r\n            />\r\n\r\n            <Button color=\"secondary\" size=\"small\" variant=\"contained\" type=\"submit\">\r\n                {buttonTitle || 'submit'}\r\n            </Button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default ContactForm;",{"ruleId":"67","severity":1,"message":"68","line":1,"column":16,"nodeType":"69","messageId":"70","endLine":1,"endColumn":25},{"ruleId":"67","severity":1,"message":"71","line":1,"column":27,"nodeType":"69","messageId":"70","endLine":1,"endColumn":35},{"ruleId":"67","severity":1,"message":"72","line":2,"column":34,"nodeType":"69","messageId":"70","endLine":2,"endColumn":40},{"ruleId":"67","severity":1,"message":"73","line":2,"column":42,"nodeType":"69","messageId":"70","endLine":2,"endColumn":47},{"ruleId":"67","severity":1,"message":"74","line":2,"column":49,"nodeType":"69","messageId":"70","endLine":2,"endColumn":57},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","replacedBy":"78"},{"ruleId":"67","severity":1,"message":"79","line":4,"column":8,"nodeType":"69","messageId":"70","endLine":4,"endColumn":13},{"ruleId":"67","severity":1,"message":"80","line":8,"column":12,"nodeType":"69","messageId":"70","endLine":8,"endColumn":19},{"ruleId":"67","severity":1,"message":"81","line":8,"column":21,"nodeType":"69","messageId":"70","endLine":8,"endColumn":29},{"ruleId":"67","severity":1,"message":"82","line":1,"column":8,"nodeType":"69","messageId":"70","endLine":1,"endColumn":13},{"ruleId":"67","severity":1,"message":"83","line":2,"column":9,"nodeType":"69","messageId":"70","endLine":2,"endColumn":19},{"ruleId":"67","severity":1,"message":"84","line":1,"column":16,"nodeType":"69","messageId":"70","endLine":1,"endColumn":24},{"ruleId":"67","severity":1,"message":"85","line":9,"column":11,"nodeType":"69","messageId":"70","endLine":9,"endColumn":18},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'useState' is defined but never used.","'Switch' is defined but never used.","'Route' is defined but never used.","'Redirect' is defined but never used.","no-native-reassign",["86"],"no-negated-in-lhs",["87"],"'axios' is defined but never used.","'setUser' is assigned a value but never used.","'setToken' is assigned a value but never used.","'React' is defined but never used.","'useHistory' is defined but never used.","'Fragment' is defined but never used.","'history' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]